{"version":3,"sources":["components/DataRow.js","components/TableHeader.js","components/Table.js","App.js","reportWebVitals.js","index.js"],"names":["DataRow","props","emailList","data","split","map","email","className","clasName","type","onClick","updatedData","allData","d","key","currEmailList","filter","join","updateData","removeEmailHere","remCounter","isChecked","logicalTest","toUpperCase","alert","removeEmailAll","faxList","fax","currFaxList","removeFaxHere","removeFaxAll","checked","onChange","toggledData","STUB","Regn","Level","ID","REGIONLEVELS","DBOF","DBAO","DBAR","DBJH","DBMM","REGIONS","Object","keys","TableHeader","useState","accNumber","setAccNumber","emailAddress","setEmaiAddress","faxNumber","setFaxNumber","accNumberAlert","setAccNumberAlert","regionChanged","e","newRegion","target","value","newData","lvl","addKeyCheck","regionSelect","selOpt","v","makeRegionSelect","tableHeader","scope","globalCheck","toggleSelected","onSubmit","preventDefault","anum","regMatch","exec","length","validateAccNo","emadd","regEx","validateEmailAddress","find","updatedEmailList","trim","updatedFaxList","Table","setGlobalCheck","dataRows","setDataRows","dataRowsJSX","assign","nanoid","FILTER_MAP","All","Active","task","completed","Completed","App","setData","csvData","setCsvData","csvParse","text","dsvFormat","parse","file","a","reader","FileReader","onload","pe","result","readAsText","id","role","readTxtFile","files","then","console","log","filterFun","csvContent","emails","faxes","f","document","getElementById","select","execCommand","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.3f1dc55b.chunk.js","sourcesContent":["import React, { useState } from 'react';\n\n// <DataRow data={d} allData={ dataRows } updateData={ setDataRows } />\n\nexport default function DataRow(props) {\n\n  //console.log(\"Row: \")\n  //console.log(props.allData);\n\n  function removeEmailHere(email) {\n    const updatedData = props.allData.map( d => {\n      if (d.key === props.data.key) {\n        const currEmailList = d['Mail List'].split(',').filter( d => d !== email );\n        return {...d, 'Mail List': currEmailList.join(',')};\n      } else {\n        return d;\n      }\n    });\n    props.updateData(updatedData);\n  }\n\n  function removeFaxHere(fax) {\n    const updatedData = props.allData.map( d => {\n      if (d.key === props.data.key) {\n        const currFaxList = d['Fax List'].split(',').filter( d => d !== fax );\n        return {...d, 'Fax List': currFaxList.join(',')};\n      } else {\n        return d;\n      }\n    });\n    props.updateData(updatedData);\n  }\n\n  function removeEmailAll(email) {\n    let remCounter = 0; //count removed email addresses\n    const updatedData = props.allData.map( d => {\n      if (d.isChecked === true) {\n        const currEmailList = d['Mail List'].split(',').filter( d => {\n          let logicalTest = d.toUpperCase() !== email.toUpperCase();\n          remCounter=logicalTest?remCounter:remCounter+1;\n          return logicalTest; \n        });\n        return {...d, 'Mail List': currEmailList.join(',')};\n      } else {\n        return d;\n      }\n    });\n    props.updateData(updatedData);\n    alert(`Removed ${remCounter} email address${remCounter!==1?'es':''}`)\n  }\n\n  function removeFaxAll(fax) {\n    let remCounter = 0; //count removed fax numbers\n    const updatedData = props.allData.map( d => {\n      if (d.isChecked === true) {\n        const currFaxList = d['Fax List'].split(',').filter( d => {\n          let logicalTest = d !== fax;\n          remCounter=logicalTest?remCounter:remCounter+1;\n          return logicalTest;\n        });\n        return {...d, 'Fax List': currFaxList.join(',')};\n      } else {\n        return d;\n      }\n    });\n    props.updateData(updatedData);\n    alert(`Removed ${remCounter} fax number${remCounter!==1?'s':''}`)\n  }\n\n\n  const emailList = props.data['Mail List'] && props.data['Mail List'].split(',').map( email => {\n    if (email) {\n      return (\n        <li className=\"list-group-item\">\n          <div className=\"container\">\n            <div clasName=\"row\">\n              <div className=\"col align-self-start\">\n                {email}\n              </div>\n              <div className=\"col align-self-end\">\n                <button type=\"button\" className=\"btn btn-sm btn-outline-danger\" onClick={ () => removeEmailHere(email) }>Remove Here</button>\n                <button type=\"button\" className=\"btn btn-sm btn-danger\" onClick={ () => removeEmailAll(email) }>Remove in selected</button>\n              </div>\n            </div>\n          </div>\n        </li>\n      )}});\n\n  const faxList = props.data['Fax List'] && props.data['Fax List'].split(',').map( fax => {\n    if (fax) {\n      return (\n        <li className=\"list-group-item\">\n          <div className=\"container\">\n            <div clasName=\"row\">\n              <div className=\"col align-self-start\">\n                {fax}\n              </div>\n              <div className=\"col align-self-end\">\n                <button type=\"button\" className=\"btn btn-sm btn-outline-danger\" onClick={ () => removeFaxHere(fax) }>Remove Here</button>\n                <button type=\"button\" className=\"btn btn-sm btn-danger\" onClick={ () => removeFaxAll(fax) }>Remove in selected</button>\n              </div>\n            </div>\n          </div>\n        </li>\n      )}});\n\n  function toggleCheckbox() {\n    let toggledData = props.allData.map( d => {\n      if (d.key === props.data.key ) {\n        return { ...d, isChecked: !d.isChecked };\n      }\n      return d;\n    });\n    props.updateData(toggledData);\n    props.data.isChecked = !props.data.isChecked;\n  }\n\n  return(\n    <tr key={props.data.key}>\n          <td>\n      <input \n        className=\"form-check form-check-input\" \n        type=\"checkbox\" \n        checked={ props.data.isChecked }\n        onChange={ toggleCheckbox }\n      />\n    </td>\n    <td>{ props.data['Regn'] }</td>\n    <td>{ props.data['Level'] }</td>\n    <td>{ props.data['ID'] }</td>\n    <td>{ props.data['Linked report'] }</td>\n    <td><ul className=\"list-group\"> { emailList } </ul></td>\n    <td><ul className=\"list-group\"> { faxList } </ul></td>\n    </tr>\n  );\n}","import React, { useState } from 'react';\nimport { addKeyCheck } from './Table';\n\nconst STUB = {\n  //region: '', code: 'CLT', level: '', accnumber: '', email: '', fax: ''\n  Regn: '', Level: 'CLT', ID: '', 'Linked report': '', 'Mail List': '', 'Fax List': ''\n};\n\nconst REGIONLEVELS = {\n  DBOF: [\"\", \"PERIOSTD-DBOF\"],\n  DBAO: [\"\", \"DBAO-Contract-Note\", \"DBAO-Contract-Note-Transfer\"],\n  DBAR: [\"\", \"DBAR-Contract-Note\", \"DBAR-Contract-Note-Transfer\"],\n  DBJH: [\"\", \"dbjh-confirm-1\", \"dbjh-confirm-2\", \"dbjh-confirm-AD\", \"dbjh-confirm-t\", \n         \"DBJH-contract-note\", \"DBJH-Contract-Note-Transfer\", \"djallcch\", \"doallcch\", \n         \"ICTA-MRG-LU238\", \"ICTA-MRG-LU348\", \"ICTA-MRG-LU349\", \"PERIOSTD-DBJH\"],\n  DBMM: [\"\", \"DBMM-Contract-Note\", \"DBMM-Contract-Note-Transfer\"]\n}\n\nconst REGIONS = Object.keys(REGIONLEVELS);\n\n\n/*\n<TableHeader \n  globalCheck={globalCheck} toggleSelected={ toggleSelected }\n  allData={ dataRows } updateData={ setDataRows }\n/>\n*/\n\nexport default function TableHeader(props) {\n  const [ accNumber, setAccNumber ] = useState('');\n  const [ emailAddress, setEmaiAddress ] = useState('');\n  const [ faxNumber, setFaxNumber ] = useState('');\n  const [ accNumberAlert, setAccNumberAlert ] = useState(\"alert-danger\");\n\n  //select in the header\n  function makeRegionSelect() {\n    const selOpt = REGIONS.map( v => (\n      <option value={v}>{v}</option>\n    ));\n    return(\n      <select className=\"form-select form-select-sm\" onChange={ regionChanged }>\n        {selOpt}\n      </select>\n    )\n  }\n\n  function regionChanged(e) {\n    const newRegion = e.target.value;\n    let newData = REGIONLEVELS[newRegion].map( lvl => {\n      return {...STUB, 'Regn': newRegion, 'Linked report': lvl}\n    });\n    //console.log(newRegion);\n    props.updateData(addKeyCheck(newData));\n  }\n\n  function updateAccNo(e) {\n    setAccNumber(e.target.value);\n    validateAccNo(e.target.value);\n  }\n\n  function changeAccNo(e) {\n    e.preventDefault();\n    const updatedData = props.allData.map( d => {\n      return d.isChecked?{...d, 'ID': accNumber.toUpperCase()}:d;\n    });\n    props.updateData(updatedData);\n  }\n\n  function validateAccNo(anum) {\n    let regMatch = /[a-z0-9]{3}\\d{7}/gmi.exec(anum);\n    if ((anum && anum.length==10) && (regMatch && regMatch.length > 0)) {\n      setAccNumberAlert(\"alert-success\");\n    } else {\n      setAccNumberAlert(\"alert-danger\");\n    } \n  }\n\n  function validateEmailAddress(emadd) {\n    //const regMatch = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/g;\n    const regMatch = /[^@ \\t\\r\\n]+@[^@ \\t\\r\\n]+\\.[^@ \\t\\r\\n]+/gmi\n    let regEx = regMatch.exec(emadd);\n    if(regEx && regEx.length > 0) {\n      return true;\n    } \n      return false;\n  }\n\n  function updateCurrentEmail(e) {\n    setEmaiAddress(e.target.value.trim());\n  }\n  function addEmail(e) {\n    e.preventDefault();\n    const updatedData = props.allData.map( d => {\n      if (d.isChecked && validateEmailAddress(emailAddress)) {\n        let previousEmailList = d['Mail List'].split(\",\");\n        if (!previousEmailList.find(e => e.toUpperCase() === emailAddress.toUpperCase() )) {\n          let updatedEmailList = [d['Mail List'].split(\",\"), emailAddress].join(',');\n          //console.log(updatedEmailList);\n          return {...d, 'Mail List': updatedEmailList };\n        }\n      }\n      return d;\n    });\n    //console.log(updatedData);\n    props.updateData(updatedData);\n  }\n\n  function updateCurrentFax(e) {\n    setFaxNumber(e.target.value.trim());\n  }\n\n  function addFax(e) {\n    e.preventDefault();\n    const updatedData = props.allData.map( d => {\n      if (d.isChecked) {\n        let previousFaxList = d['Fax List'].split(\",\");\n        if (!previousFaxList.find(e => e === faxNumber )) {\n          let updatedFaxList = [d['Fax List'].split(\",\"), faxNumber].join(',');\n          //console.log(updatedEmailList);\n          return {...d, 'Fax List': updatedFaxList };\n        }\n      }\n      return d;\n    });\n    //console.log(updatedData);\n    props.updateData(updatedData);\n  }\n\n  const regionSelect = makeRegionSelect();\n\n  const tableHeader = (\n    <tr>\n      <th scope=\"col\">\n        <input \n          className=\"form-check form-check-input\" \n          type=\"checkbox\" checked={!props.globalCheck} \n          onClick={props.toggleSelected}\n        />\n      </th>\n      <th scope=\"col\">{ regionSelect }</th>\n      <th scope=\"col\">Level</th>\n      <th scope=\"col\">\n        <form onSubmit={ changeAccNo }>\n          <input type=\"search\" onChange={ updateAccNo } />\n          <button type=\"submit\" className={ accNumberAlert }>change</button>\n        </form>\n      </th>\n      <th scope=\"col\">Linked report</th>\n      <th scope=\"col\">\n        <form onSubmit={ addEmail }>\n          <input type=\"search\" onChange={ updateCurrentEmail }/>\n          <button type=\"submit\">add</button>\n        </form>\n      </th>\n      <th scope=\"col\">\n        <form onSubmit={ addFax }>\n          <input type=\"text\" onChange={ updateCurrentFax }/>\n          <button type=\"submit\">add</button>\n        </form>\n      </th>\n    </tr>\n  );\n\n\n  return(\n    <thead>\n      { tableHeader }\n    </thead>\n  );\n}","import React, { useState } from 'react';\nimport DataRow from './DataRow';\nimport TableHeader from './TableHeader';\nimport { nanoid } from 'nanoid';\n\n\nexport default function Table(props) {\n  const [globalCheck, setGlobalCheck] = useState(false);\n\n  const dataRows = props.data;\n  \n  function setDataRows(data) {\n    props.updateData(data);\n  }\n\n  //const [dataRows, setDataRows] = useState(props.data?props.data:addKeyCheck(SAMPLEDATA));\n\n  const dataRowsJSX = dataRows && dataRows.map( d => (\n    <DataRow data={d} allData={ dataRows } updateData={ setDataRows } />\n  ));\n\n  //let headerList = Object.keys(dataRows[0]).filter(cname => cname!==\"key\"); //[\"#\", \"First Name\", \"Second Name\"];\n  //headerList = ['checkboxes', ...headerList];\n\n  function toggleSelected() {\n    setGlobalCheck(!globalCheck);\n    setDataRows(dataRows.map( d => { return Object.assign(d, {isChecked: globalCheck})}));\n    //console.log(dataRows[0]);\n  }\n\n  return (\n    <table className=\"table table-sm table-success table-hover table-striped\">\n      <TableHeader \n        globalCheck={globalCheck} toggleSelected={ toggleSelected }\n        allData={ dataRows } updateData={ setDataRows }\n      />\n      <tbody>{ dataRowsJSX }</tbody>\n    </table>\n  );\n}\n\nexport function addKeyCheck(data) {\n  return data.map(d => Object.assign({key: nanoid(), isChecked: true}, d));\n}","import { useState } from 'react';\nimport Table, { addKeyCheck } from './components/Table';\nimport { dsvFormat } from 'd3';\n\nconst FILTER_MAP = {\n  All: () => true,\n  Active: task => !task.completed,\n  Completed: task => task.completed\n};\n\nfunction App(props) {\n  const [data, setData] = useState(props.data?addKeyCheck(props.data):null);\n  const [csvData, setCsvData] = useState('');\n  const [filter, setFilter] = useState(\"All\");\n\n  function csvParse(text) {\n    const csvParser = dsvFormat(\";\");\n    return csvParser.parse(text);\n  }\n\n  function handleFileChange(e) {\n    readTxtFile(e.target.files[0]).then( d => console.log(d));\n    //console.log();\n  }\n\n  async function readTxtFile(file) {\n    const reader = new FileReader();\n    reader.onload =  pe => {\n      setData(addKeyCheck(csvParse(pe.target.result)));\n    }\n    reader.readAsText(file);\n  }\n\n  function generateCsv() {\n    //console.log(\"genearting csv\");\n    //const headerNames = 'region,code,level,account,email,fax';\n    let csvContent = data.filter(d => d.isChecked).filter(d => d['Mail List'].length>0 || d['Fax List'].length>0).map( d => {\n      let emails = d['Mail List'].split(',').filter(e => e && e.length>0).join(',');\n      let faxes = d['Fax List'].split(',').filter(f => f && f.length>0).join('#');\n      //console.log(d.fax);\n      return [d['Regn'], d['Level'], d['ID'], d['Linked report'], emails.length>0?`${emails}`:'', `${faxes}`].join(';')+'\\n';\n    });\n\n    //csvContent = [headerNames, ...csvContent].join('\\n');\n\n    setCsvData(csvContent.join('\\n'));\n  }\n\n  function copyToClipboard() {\n    var copyText = document.getElementById(\"csvTextArea\");\n    copyText.select();\n    document.execCommand(\"copy\");\n    alert(\"Text copied to the clipboard\");\n  }\n\n  return (\n    <div className=\"tab-content\">\n      <div className=\"tab-pane fade show active\" id=\"main\" role=\"tabpanel\">\n        <div className=\"table-responsive\">\n          <input type=\"file\" onChange={handleFileChange} />\n          <Table data={ data } updateData={ setData } filterFun={ FILTER_MAP[filter] }/>\n        </div>\n        <hr /><b>Pawel Piela</b> pawel.piela@rbc.com\n      </div>\n      <div className=\"tab-pane fade show\" id=\"csv\" role=\"tabpanel\">\n        <div className=\"container\">\n          <div className=\"container\">\n            <button className=\"btn btn-primary\" onClick={ generateCsv }>Generate content of the load file</button>\n            <button className=\"btn btn-secondary\" onClick={ copyToClipboard }>Copy to clipboard</button>\n          </div>\n          <div id=\"csvText\">\n            <textarea id=\"csvTextArea\" value={ csvData } />\n          </div>\n        </div>\n      </div>\n    </div>\n\n    \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst SAMPLEDATA = [\n  {region: 'DBOF', code: 'CLT', level: '', accnumber: 'FUS0000001', email: \"email1@a.ie,email2@a.ie\", fax: '123'},\n  {region: 'DBOF', code: 'CLT', level: 'CONTRACT-NOTES', accnumber: 'FUS0000001', email: \"email1@a.ie,email2@a.ie\", fax: ''}\n]\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App data={ null }/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}